{% load static %}
<div class="col-md-4 mb-4">
    <div class="card">
      <div class="position-relative">
        {% if book.popular %}
          <span class="badge badge-success">Популярная</span>
        {% elif book.new %}
          <span class="badge badge-primary">Новая</span>
        {% endif %}
        <img src="{% if book.image %}{% static book.image %}{% else %}{% static 'img/no-image.jpg' %}{% endif %}" class="card-img-top book-image" alt="{{ book.title }}">
      </div>

      <div class="card-body">
        <h5 class="card-title">{{ book.title }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{ book.author }}</h6>
        <p class="card-text">{{ book.description|truncatechars:100 }}</p>
        <a href="{% url 'catalog:book_detail' book.id %}" class="btn btn-primary mt-3">Подробнее</a>
      </div>
    </div>
</div>